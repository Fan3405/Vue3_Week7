import{S as a}from"./sweetalert2.all-5cbc8e75.js";import{_ as g,o as c,c as d,d as u,a as t,t as o,h as f,v,F as p,e as P,f as y}from"./index-9f380a15.js";const{VITE_APP_URL:h,VITE_APP_PATH:_}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"zxcv123",BASE_URL:"/Vue3_Week7/",MODE:"production",DEV:!1,PROD:!0},b={data(){return{product:{},qty:1,addCartLoading:null,fullPage:!1}},methods:{getProduct(){const r=this.$loading.show({container:this.fullPage?null:this.$refs.formContainer,canCancel:!1,onCancel:this.onCancel,loader:"dots",width:100,height:100,color:"gray"}),{id:s}=this.$route.params;this.$http.get(`${h}v2/api/${_}/product/${s}`).then(i=>{this.product=i.data.product,r.hide()}).catch(i=>{a.fire({title:i.response.data.message,icon:"error",confirmButtonText:"OK"}),r.hide()})},addToCart(r,s=1){const i={product_id:r,qty:s};this.addCartLoading=r,this.$http.post(`${h}v2/api/${_}/cart`,{data:i}).then(l=>{a.fire({title:l.data.message,icon:"success",confirmButtonText:"OK"}),this.addCartLoading=null,this.$router.push("/cart")}).catch(l=>{a.fire({title:l.response.data.message,icon:"error",confirmButtonText:"OK"})})}},mounted(){this.getProduct()}},C={tabindex:"-1",role:"dialog","aria-hidden":"true"},T={role:"document"},x={class:"border-0"},V={class:"bg-dark text-white"},k={class:"mb-0"},E={class:"row"},L={class:"col-sm-6"},w=["src"],A={class:"col-sm-6"},B={class:"badge bg-primary rounded-pill"},D={key:0,class:"h5"},O={key:1},S={class:"h6"},U={class:"h5"},q={class:"input-group"},I=["value"],R={key:0,class:"spinner-border spinner-border-sm",role:"status"};function K(r,s,i,l,e,m){return c(),d(p,null,[u(" 這是單一產品頁面 "),t("div",C,[t("div",T,[t("div",x,[t("div",V,[t("h5",k,[t("span",null,o(e.product.title),1)])]),t("div",null,[t("div",E,[t("div",L,[t("img",{class:"img-fluid",src:e.product.imageUrl,alt:""},null,8,w)]),t("div",A,[t("span",B,o(),1),t("p",null,"商品描述："+o(e.product.description),1),t("p",null,"商品內容："+o(e.product.content),1),e.product.price===e.product.origin_price?(c(),d("div",D,o(e.product.price)+" 元 ",1)):(c(),d("div",O,[t("del",S,"原價 "+o(e.product.origin_price)+" 元",1),t("div",U,"現在只要 "+o(e.product.price)+" 元",1)])),t("div",null,[t("div",q,[f(t("select",{name:"",id:"",class:"form-select","onUpdate:modelValue":s[0]||(s[0]=n=>e.qty=n)},[(c(),d(p,null,P(30,n=>t("option",{value:n,key:`${n}123`},o(n),9,I)),64))],512),[[v,e.qty]]),t("button",{type:"button",class:"btn btn-primary",onClick:s[1]||(s[1]=n=>m.addToCart(e.product.id,e.qty))},[e.addCartLoading===e.product.id?(c(),d("span",R)):y("",!0),u(" 加入購物車 ")])])])])])])])])])],64)}const H=g(b,[["render",K]]);export{H as default};

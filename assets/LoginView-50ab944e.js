import{S as c}from"./sweetalert2.all-5cbc8e75.js";import{_ as f,r as n,o as V,c as b,d as h,b as a,w,F as E,a as s,i as u}from"./index-9f380a15.js";const{VITE_APP_URL:x}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"zxcv123",BASE_URL:"/Vue3_Week7/",MODE:"production",DEV:!1,PROD:!0},v={data(){return{user:{username:"",password:""}}},methods:{login(){this.$http.post(`${x}v2/admin/signin`,this.user).then(o=>{const{token:e,expired:l}=o.data;document.cookie=`myToken=${e}; myexpired=${new Date(l)}; `,c.fire({title:o.data.message,icon:"success",confirmButtonText:"OK"}),this.$router.push("/admin/adminProducts")}).catch(o=>{c.fire({title:o.response.data.message,icon:"error",confirmButtonText:"OK"})})}},mounted(){}},g={class:"mb-3"},P=s("label",{for:"username",class:"form-label"},"Email",-1),k={class:"mb-3"},T=s("label",{for:"password",class:"form-label"},"Password",-1),y=s("div",{class:"text-end"},[s("button",{type:"submit",class:"btn btn-lg btn-primary w-100 mt-3"}," 登入 ")],-1);function B(o,e,l,F,t,p){const i=n("VueField"),d=n("ErrorMessage"),_=n("VueForm");return V(),b(E,null,[h(" 這是登入頁面 "),a(_,{id:"form",class:"form",onSubmit:p.login},{default:w(({errors:m})=>[s("div",g,[P,a(i,{modelValue:t.user.username,"onUpdate:modelValue":e[0]||(e[0]=r=>t.user.username=r),id:"username",name:"Email",type:"email",class:u(["form-control",{"is-invalid":m.Email}]),placeholder:"請輸入 Email",rules:"required|email"},null,8,["modelValue","class"]),a(d,{name:"Email",class:"invalid-feedback"})]),s("div",k,[T,a(i,{modelValue:t.user.password,"onUpdate:modelValue":e[1]||(e[1]=r=>t.user.password=r),id:"password",name:"password",type:"password",class:u(["form-control",{"is-invalid":m.password}]),placeholder:"請輸入密碼",rules:"required"},null,8,["modelValue","class"]),a(d,{name:"password",class:"invalid-feedback"})]),y]),_:1},8,["onSubmit"])],64)}const U=f(v,[["render",B]]);export{U as default};

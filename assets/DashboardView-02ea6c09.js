import{S as s}from"./sweetalert2.all-35044af0.js";import{_ as p,r as a,o as u,c as _,d as e,b as n,w as c,a as l,k as f,l as k,f as V,F as x}from"./index-e4da0025.js";const{VITE_APP_URL:$}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"zxcv123",BASE_URL:"/Vue3_Week7/",MODE:"production",DEV:!1,PROD:!0},T={data(){return{check:!1}},methods:{logout(){document.cookie=`myToken=; myexpired=${new Date}; `,s.fire({title:"已登出",icon:"success",confirmButtonText:"OK"}),this.$router.push("/login")},checkAdmin(){const o=document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=o,o?this.$http.post(`${$}v2/api/user/check`).then(()=>{this.check=!0}).catch(t=>{s.fire({title:t.response.data.message,icon:"error",confirmButtonText:"OK"}),this.$router.push("/login")}):(s.fire({title:"您尚未登入",icon:"error",confirmButtonText:"OK"}),this.$router.push("/login"))}},mounted(){this.checkAdmin()}},P=l("hr",null,null,-1);function g(o,t,w,A,d,i){const r=a("RouterLink"),h=a("RouterView");return u(),_(x,null,[e(" 這是後台頁面 "),n(r,{to:"/admin/adminProducts"},{default:c(()=>[e("後台產品列表")]),_:1}),e(" | "),n(r,{to:"/admin/adminOrders"},{default:c(()=>[e("後台訂單列表")]),_:1}),e(" | "),n(r,{to:"/"},{default:c(()=>[e("回前台首頁")]),_:1}),e(" | "),l("a",{href:"#",onClick:t[0]||(t[0]=f((...m)=>i.logout&&i.logout(...m),["prevent"]))},"登出"),P,d.check?(u(),k(h,{key:0})):V("",!0)],64)}const E=p(T,[["render",g]]);export{E as default};
